!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Rellax=t()}(this,function(){var e=function(t,n){"use strict";var o=Object.create(e.prototype),r=0,s=0,i=[],a=!1,l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},c=window.transformProp||function(){var e=document.createElement("div");if(null==e.style.transform){var t=["Webkit","Moz","ms"];for(var n in t)if(void 0!==e.style[t[n]+"Transform"])return t[n]+"Transform"}return"transform"}(),d=function(e,t,n){return t>=e?t:e>=n?n:e};o.options={speed:-2,center:!1,round:!0,others:"",callback:function(){}},n&&Object.keys(n).forEach(function(e){o.options[e]=n[e]}),o.options.speed=d(o.options.speed,-10,10),t||(t=".rellax");var u=document.querySelectorAll(t);if(!(u.length>0))throw new Error("The elements you're trying to select don't exist.");o.elems=u;var f=function(){s=window.innerHeight,p();for(var e=0;e<o.elems.length;e++){var t=m(o.elems[e]);i.push(t)}window.addEventListener("resize",function(){h()}),v(),h()},m=function(e){var t=e.dataset.rellaxPercentage,n=e.dataset.rellaxSpeed,r=t||o.options.center?window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop:0,i=r+e.getBoundingClientRect().top,a=e.clientHeight||e.offsetHeight||e.scrollHeight,l=t?t:(r-i+s)/(a+s);o.options.center&&(l=.5);var c=n?d(n,-10,10):o.options.speed;(t||o.options.center)&&(c=d(n||o.options.speed,-5,5));var u=w(l,c),f=e.style.cssText,m="";if(f.indexOf("transform")>=0){var p=f.indexOf("transform"),v=f.slice(p),h=v.indexOf(";");m=h?" "+v.slice(11,h).replace(/\s/g,""):" "+v.slice(11).replace(/\s/g,"")}return{base:u,top:i,height:a,speed:c,style:f,transform:m}},p=function(){var e=r;return r=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,e!=r?!0:!1},w=function(e,t){var n=t*(100*(1-e));return o.options.round?Math.round(10*n)/10:n},v=function(){p()&&a===!1&&h(),l(v)},h=function(){for(var e=0;e<o.elems.length;e++){var t=(r-i[e].top+s)/(i[e].height+s),n=w(t,i[e].speed)-i[e].base,a="translate3d(0,"+n+"px,0) "+i[e].transform+" "+o.options.others;o.elems[e].style[c]=a}o.options.callback(n)};return o.destroy=function(){for(var e=0;e<o.elems.length;e++)o.elems[e].style.cssText=i[e].style;a=!0},f(),o};return e});