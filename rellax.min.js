!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof module&&module.exports?module.exports=b():a.Rellax=b()}(this,function(){var a=function(b,c){"use strict";var d=Object.create(a.prototype),e=0,f=0,g=[],h=!1,i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(a){setTimeout(a,1e3/60)},j=function(a,b,c){return a<=b?b:a>=c?c:a};if(d.options={speed:-2,center:!1},c&&Object.keys(c).forEach(function(a){d.options[a]=c[a]}),d.options.speed=j(d.options.speed,-10,10),b||(b=".rellax"),document.getElementsByClassName(b.replace(".","")))d.elems=document.getElementsByClassName(b.replace(".",""));else{if(document.querySelector(b)===!1)throw new Error("The elements you're trying to select don't exist.");d.elems=querySelector(b)}var k=function(){f=window.innerHeight,m();for(var a=0;a<d.elems.length;a++){var b=l(d.elems[a]);g.push(b)}window.addEventListener("resize",function(){q()}),o(),q()},l=function(a){var b=a.getAttribute("data-rellax-percentage"),c=a.getAttribute("data-rellax-speed"),e=a.getAttribute("data-rellax-limit"),g=b||d.options.center?document.body.scrollTop:0,h=g+a.getBoundingClientRect().top,i=a.clientHeight||a.offsetHeight||a.scrollHeight,k=b?b:(g-h+f)/(i+f);d.options.center&&(k=.5);var l=c?j(c,-10,10):d.options.speed;(b||d.options.center)&&(l=j(c||d.options.speed,-5,5));var m=n(k,l),o=a.style.cssText,p="";if(o.indexOf("transform")>=0){var q=o.indexOf("transform"),r=o.slice(q),s=r.indexOf(";");p=s?" "+r.slice(11,s).replace(/\s/g,""):" "+r.slice(11).replace(/\s/g,"")}return{base:m,top:h,height:i,speed:l,style:o,transform:p,limits:e}},m=function(){var a=e;return e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,a!=e},n=function(a,b){var c=b*(100*(1-a));return Math.round(c)},o=function(){m()&&h===!1&&q(),i(o)},p=function(a,b){if(null!==a){a=a.split(", ");var c=a[0],d=a[1];return b>=c&&b<=d}return!0},q=function(){for(var a=0;a<d.elems.length;a++){var b=(e-g[a].top+f)/(g[a].height+f),c=n(b,g[a].speed)-g[a].base;if(p(g[a].limits,c)){var h=" translate3d(0,"+c+"px,0)"+g[a].transform;d.elems[a].style.cssText=g[a].style+"-webkit-transform:"+h+";-moz-transform:"+h+";transform:"+h+";"}}};return d.destroy=function(){for(var a=0;a<d.elems.length;a++)d.elems[a].style.cssText=g[a].style;h=!0},k(),d};return a});
